import time

def getBytes(msg):
    b = []
    for c in msg:
        b.append(ord(c))
    return b
phrase = "Hello world"
liste = getBytes(phrase)
print(phrase)
print(liste)

def getText(msg):
    b = []
    for c in msg:
        b.append(chr(c))
    return ''.join(b)
phrase = getText(liste)
print(phrase)

def getChiffText(msg, cle):
    b = []
    for i in range(len(msg)):
        lCle = ord(cle[i])
        odr = ord(msg[i])
        b.append(chr(odr^lCle))
    return ''.join(b)
phrase = getChiffText(phrase,  "42 est la réponse")

print(phrase)
print(getChiffText(phrase, "42 est la réponse"))

def xorAvecRepetitionCle(text, key):
    rep = 0
    lieu = key
    while len(key) < len(text):
        if rep == len(lieu):
            rep = 0
        key += lieu[rep]
        rep += 1

    return getChiffText(text, key)
pp = xorAvecRepetitionCle("Ceci est le message", "Key")
print(pp)
print(xorAvecRepetitionCle(pp, "Key"))

msg = "\x0e6/+y;.< x-(7,,\x9b\xf0z48z:646<z*\x9a\xf3(64+<{"
cle = "AAA"
val = msg
temps = time.time()
while msg[-4:] != "nse!":
    if cle[2] == "Z":
        if cle[1] == "Z":
            cle = chr(ord(cle[0])+1) + "AA"
        else:
            cle = cle[0] + chr(ord(cle[1])+1) + "A"
    else:
        cle = cle[:-1] + chr(ord(cle[2])+1)
    msg = xorAvecRepetitionCle(val, cle)
temps2 = time.time()
print(msg)
print(temps2-temps)
    







