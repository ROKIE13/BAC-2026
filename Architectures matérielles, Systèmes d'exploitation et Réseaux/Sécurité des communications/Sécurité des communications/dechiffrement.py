from random import randint
import time

def getBytes(msg):
    b = []
    for c in msg:
        b.append(ord(c))
    return b
timed = time.time()
fichier_chiffrement = open("clesChiffrees.txt", "r")
ligne = fichier_chiffrement.readlines()[randint(0, 99999)].split()
fichier_chiffrement.close()
cles_originales = []
for i in range(456976):
    cles_originales.append(chr(i//17576+65)+chr((i%17576)//676+65)+chr(((i%17576)%676)//26+65)+chr(i%26+65))
id = ""
i = 0
while id != "identifiant":
    cle_sym_originale = cles_originales[i]
    bytes_cle = getBytes(cle_sym_originale*(len(ligne)//4) + cle_sym_originale[:len(ligne)%4])
    ligne_dechiffree = ""
    for j in range(len(ligne)):
        ligne_dechiffree += chr(int(ligne[j])^bytes_cle[j])
    id = ligne_dechiffree[:11]
    i += 1
print(ligne_dechiffree)

timed2 = time.time()
print(timed2 - timed)